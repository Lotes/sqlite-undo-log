#ifndef CHANGES_H
#define CHANGES_H
#include "shared.hsql"
#include "actions.hsql"
CREATE TABLE __TABLE_PREFIX(changes) (
  id INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT,
  row_id INTEGER NOT NULL,
  action_id INTEGER NOT NULL,
  type TEXT CHECK(type IN ('INSERT','DELETE','CREATE')),
  FOREIGN KEY (action_id)
    REFERENCES __TABLE_PREFIX(actions)(id)
    ON DELETE CASCADE
);
#endif